{function isAbbr(e){return"ABBR"===e.tagName&&e.hasAttribute("title")}function getTitle(e){return isAbbr(e.selection.getNode())?e.selection.getNode().title:""}function setContentEditable(e){return t=>{t.forEach(t=>{isAbbr(t)||t.attr("contenteditable",e)})}}function insertAbbr(e,t){const n=e.selection.getNode();isAbbr(n)?""===t?removeAbbr(e):(n.removeAttribute("title"),n.title=t):(e.focus(),e.execCommand("mceInsertContent",!1,e.dom.createHTML("abbr",{title:t},e.selection.getContent())),e.selection.collapse(!0)),e.undoManager.add()}function removeAbbr(e){const t=e.selection.getNode();isAbbr(t)&&(e.selection.setContent(t.innerHTML),e.undoManager.add(),e.selection.collapse(!0))}tinymce.PluginManager.requireLangPack("abbr","en_US,en_GB,fr_FR"),tinymce.PluginManager.add("abbr",function(e){return e.on("PreInit",()=>{e.parser.addNodeFilter("abbr",setContentEditable("false")),e.serializer.addNodeFilter("abbr",setContentEditable(null))}),e.addCommand("mceAbbr",()=>{const t=isAbbr(e.selection.getNode());e.windowManager.open({title:"mceAbbr_title",body:[{type:"label",text:"mceAbbr_instructions"},{type:"textbox",name:"title",size:40,label:"mceAbbr_titleLabel",value:getTitle(e)},{type:"button",name:"delete",label:" ",text:"mceAbbr_deleteBtnText",hidden:!t,onclick:()=>{removeAbbr(e),e.windowManager.close()}}],onsubmit:t=>insertAbbr(e,t.data.title)})}),e.addButton("abbr",{icon:"bubble",tooltip:"mceAbbr_tooltip",cmd:"mceAbbr",stateSelector:"abbr:not([title])"}),{getMetadata:()=>({name:"Abbr Plugin",url:"https://www.github.com/jeffdess/tinymce-plugin-abbr"})}})}